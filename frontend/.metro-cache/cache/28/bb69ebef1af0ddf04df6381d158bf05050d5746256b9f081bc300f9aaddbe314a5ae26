{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":34,"index":138}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,_e,d){\"use strict\";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,\"useAuthStore\",{enumerable:!0,get:function(){return s}});var t=r(d[0]),o=e(r(d[1])),n=e(r(d[2]));const s=(0,t.create)((e,t)=>({user:null,token:null,isLoading:!1,isInitialized:!1,initialize:async()=>{try{const t=await o.default.getItem('auth_token');if(t){n.default.defaults.headers.common.Authorization=`Bearer ${t}`;const o=await n.default.get('/auth/me');e({user:o.data,token:t,isInitialized:!0})}else e({isInitialized:!0})}catch(t){await o.default.removeItem('auth_token'),e({user:null,token:null,isInitialized:!0})}},login:async(t,s)=>{e({isLoading:!0});try{const u=await n.default.post('/auth/login',{email:t,password:s}),{access_token:l,user:c}=u.data;await o.default.setItem('auth_token',l),n.default.defaults.headers.common.Authorization=`Bearer ${l}`,e({user:c,token:l,isLoading:!1})}catch(t){throw e({isLoading:!1}),new Error(t.response?.data?.detail||'Login failed')}},register:async(t,s,u,l=\"primary\")=>{e({isLoading:!0});try{const c=await n.default.post('/auth/register',{email:t,password:s,name:u,role:l}),{access_token:f,user:h}=c.data;await o.default.setItem('auth_token',f),n.default.defaults.headers.common.Authorization=`Bearer ${f}`,e({user:h,token:f,isLoading:!1})}catch(t){throw e({isLoading:!1}),new Error(t.response?.data?.detail||'Registration failed')}},googleAuth:async(t,s=\"primary\")=>{e({isLoading:!0});try{const u=await n.default.post('/auth/google',{id_token:t,role:s}),{access_token:l,user:c}=u.data;await o.default.setItem('auth_token',l),n.default.defaults.headers.common.Authorization=`Bearer ${l}`,e({user:c,token:l,isLoading:!1})}catch(t){throw e({isLoading:!1}),new Error(t.response?.data?.detail||'Google authentication failed')}},logout:async()=>{await o.default.removeItem('auth_token'),delete n.default.defaults.headers.common.Authorization,e({user:null,token:null})},updateUser:o=>{const n=t().user;n&&e({user:{...n,...o}})}}))});","lineCount":1,"map":[[1,143,27,0,"Object"],[1,150,27,0,"defineProperty"],[1,165,27,0,"_e"],[1,168,27,0],[1,184,27,0,"enumerable"],[1,196,27,0],[1,198,27,0,"get"],[1,202,27,0],[1,220,27,0,"useAuthStore"],[1,221,27,0],[1,225,1,0],[1,229,1,0,"_zustand"],[1,231,1,0,"r"],[1,233,1,0,"d"],[1,235,1,0],[1,239,2,0,"AsyncStorage"],[1,241,2,0,"_interopDefault"],[1,243,2,0,"r"],[1,245,2,0,"d"],[1,247,2,0],[1,252,3,0,"api"],[1,254,3,0,"_interopDefault"],[1,256,3,0,"r"],[1,258,3,0,"d"],[1,260,3,0],[1,265,27,7],[1,271,27,13,"useAuthStore"],[1,274,27,28],[1,276,27,28,"create"],[1,278,27,34,"create"],[1,286,27,46],[1,287,27,47,"set"],[1,289,27,52,"get"],[1,294,27,55],[1,295,28,2,"user"],[1,300,28,8],[1,305,29,2,"token"],[1,311,29,9],[1,316,30,2,"isLoading"],[1,327,30,13],[1,329,31,2,"isInitialized"],[1,344,31,17],[1,346,33,2,"initialize"],[1,357,33,14,"async"],[1,367,34,4],[1,371,35,6],[1,377,35,12,"token"],[1,385,35,26,"AsyncStorage"],[1,387,35,38,"default"],[1,395,35,39,"getItem"],[1,403,35,47],[1,417,36,6],[1,420,36,10,"token"],[1,422,36,17],[1,423,37,8,"api"],[1,425,37,11,"default"],[1,433,37,12,"defaults"],[1,442,37,21,"headers"],[1,450,37,29,"common"],[1,457,37,51],[1,471,37,55],[1,481,37,65,"token"],[1,485,38,8],[1,491,38,14,"response"],[1,499,38,31,"api"],[1,501,38,34,"default"],[1,509,38,35,"get"],[1,513,38,39],[1,525,39,8,"set"],[1,527,39,12],[1,528,39,14,"user"],[1,533,39,20,"response"],[1,535,39,29,"data"],[1,540,39,35,"token"],[1,548,39,42,"isInitialized"],[1,563,39,57],[1,566,40,6],[1,572,41,8,"set"],[1,574,41,12],[1,575,41,14,"isInitialized"],[1,590,41,29],[1,593,43,4],[1,594,43,6],[1,600,43,13,"error"],[1,609,44,12,"AsyncStorage"],[1,611,44,24,"default"],[1,619,44,25,"removeItem"],[1,630,44,36],[1,644,45,6,"set"],[1,646,45,10],[1,647,45,12,"user"],[1,652,45,18],[1,657,45,24,"token"],[1,663,45,31],[1,668,45,37,"isInitialized"],[1,683,45,52],[1,686,46,4],[1,689,49,2,"login"],[1,695,49,9,"async"],[1,701,49,16,"email"],[1,703,49,31,"password"],[1,708,50,4,"set"],[1,710,50,8],[1,711,50,10,"isLoading"],[1,722,50,21],[1,726,51,4],[1,730,52,6],[1,736,52,12,"response"],[1,744,52,29,"api"],[1,746,52,32,"default"],[1,754,52,33,"post"],[1,759,52,38],[1,773,52,53],[1,774,52,55,"email"],[1,782,52,62,"password"],[1,796,53,12,"access_token"],[1,809,53,14,"access_token"],[1,811,53,26,"user"],[1,816,53,28,"user"],[1,819,53,37,"response"],[1,821,53,46,"data"],[1,832,55,12,"AsyncStorage"],[1,834,55,24,"default"],[1,842,55,25,"setItem"],[1,850,55,33],[1,863,55,47,"access_token"],[1,866,56,6,"api"],[1,868,56,9,"default"],[1,876,56,10,"defaults"],[1,885,56,19,"headers"],[1,893,56,27,"common"],[1,900,56,49],[1,914,56,53],[1,924,56,63,"access_token"],[1,928,58,6,"set"],[1,930,58,10],[1,931,58,12,"user"],[1,938,58,18,"token"],[1,944,58,25,"access_token"],[1,946,58,39,"isLoading"],[1,957,58,50],[1,960,59,4],[1,961,59,6],[1,967,59,13,"error"],[1,970,61,6],[1,976,60,6,"set"],[1,978,60,10],[1,979,60,12,"isLoading"],[1,990,60,23],[1,994,61,12],[1,998,61,16,"Error"],[1,1004,61,22,"error"],[1,1006,61,28,"response"],[1,1016,61,38,"data"],[1,1022,61,44,"detail"],[1,1030,61,54],[1,1045,62,4],[1,1048,65,2,"register"],[1,1057,65,12,"async"],[1,1063,65,19,"email"],[1,1065,65,34,"password"],[1,1067,65,52,"name"],[1,1069,65,66,"role"],[1,1071,65,81],[1,1084,66,4,"set"],[1,1086,66,8],[1,1087,66,10,"isLoading"],[1,1098,66,21],[1,1102,67,4],[1,1106,68,6],[1,1112,68,12,"response"],[1,1120,68,29,"api"],[1,1122,68,32,"default"],[1,1130,68,33,"post"],[1,1135,68,38],[1,1152,68,56],[1,1153,68,58,"email"],[1,1161,68,65,"password"],[1,1172,68,75,"name"],[1,1179,68,81,"role"],[1,1189,69,12,"access_token"],[1,1202,69,14,"access_token"],[1,1204,69,26,"user"],[1,1209,69,28,"user"],[1,1212,69,37,"response"],[1,1214,69,46,"data"],[1,1225,71,12,"AsyncStorage"],[1,1227,71,24,"default"],[1,1235,71,25,"setItem"],[1,1243,71,33],[1,1256,71,47,"access_token"],[1,1259,72,6,"api"],[1,1261,72,9,"default"],[1,1269,72,10,"defaults"],[1,1278,72,19,"headers"],[1,1286,72,27,"common"],[1,1293,72,49],[1,1307,72,53],[1,1317,72,63,"access_token"],[1,1321,74,6,"set"],[1,1323,74,10],[1,1324,74,12,"user"],[1,1331,74,18,"token"],[1,1337,74,25,"access_token"],[1,1339,74,39,"isLoading"],[1,1350,74,50],[1,1353,75,4],[1,1354,75,6],[1,1360,75,13,"error"],[1,1363,77,6],[1,1369,76,6,"set"],[1,1371,76,10],[1,1372,76,12,"isLoading"],[1,1383,76,23],[1,1387,77,12],[1,1391,77,16,"Error"],[1,1397,77,22,"error"],[1,1399,77,28,"response"],[1,1409,77,38,"data"],[1,1415,77,44,"detail"],[1,1423,77,54],[1,1445,78,4],[1,1448,81,2,"googleAuth"],[1,1459,81,14,"async"],[1,1465,81,21,"idToken"],[1,1467,81,38,"role"],[1,1469,81,53],[1,1482,82,4,"set"],[1,1484,82,8],[1,1485,82,10,"isLoading"],[1,1496,82,21],[1,1500,83,4],[1,1504,84,6],[1,1510,84,12,"response"],[1,1518,84,29,"api"],[1,1520,84,32,"default"],[1,1528,84,33,"post"],[1,1533,84,38],[1,1548,84,54],[1,1549,84,56,"id_token"],[1,1558,84,66,"idToken"],[1,1560,84,75,"role"],[1,1570,85,12,"access_token"],[1,1583,85,14,"access_token"],[1,1585,85,26,"user"],[1,1590,85,28,"user"],[1,1593,85,37,"response"],[1,1595,85,46,"data"],[1,1606,87,12,"AsyncStorage"],[1,1608,87,24,"default"],[1,1616,87,25,"setItem"],[1,1624,87,33],[1,1637,87,47,"access_token"],[1,1640,88,6,"api"],[1,1642,88,9,"default"],[1,1650,88,10,"defaults"],[1,1659,88,19,"headers"],[1,1667,88,27,"common"],[1,1674,88,49],[1,1688,88,53],[1,1698,88,63,"access_token"],[1,1702,90,6,"set"],[1,1704,90,10],[1,1705,90,12,"user"],[1,1712,90,18,"token"],[1,1718,90,25,"access_token"],[1,1720,90,39,"isLoading"],[1,1731,90,50],[1,1734,91,4],[1,1735,91,6],[1,1741,91,13,"error"],[1,1744,93,6],[1,1750,92,6,"set"],[1,1752,92,10],[1,1753,92,12,"isLoading"],[1,1764,92,23],[1,1768,93,12],[1,1772,93,16,"Error"],[1,1778,93,22,"error"],[1,1780,93,28,"response"],[1,1790,93,38,"data"],[1,1796,93,44,"detail"],[1,1804,93,54],[1,1835,94,4],[1,1838,97,2,"logout"],[1,1845,97,10,"async"],[1,1861,98,10,"AsyncStorage"],[1,1863,98,22,"default"],[1,1871,98,23,"removeItem"],[1,1882,98,34],[1,1903,99,11,"api"],[1,1905,99,14,"default"],[1,1913,99,15,"defaults"],[1,1922,99,24,"headers"],[1,1930,99,32,"common"],[1,1937,99,54],[1,1951,100,4,"set"],[1,1953,100,8],[1,1954,100,10,"user"],[1,1959,100,16],[1,1964,100,22,"token"],[1,1970,100,29],[1,1978,103,2,"updateUser"],[1,1989,103,15,"updates"],[1,1993,104,4],[1,1999,104,10,"currentUser"],[1,2001,104,24,"get"],[1,2005,104,30,"user"],[1,2010,105,8,"currentUser"],[1,2013,106,6,"set"],[1,2015,106,10],[1,2016,106,12,"user"],[1,2021,106,18],[1,2025,106,23,"currentUser"],[1,2030,106,39,"updates"],[1,2038,109,4],[1,2041]],"functionMap":{"names":["<global>","create$argument_0","initialize","login","register","googleAuth","logout","updateUser"],"mappings":"AAA;8CC0B;cCM;GDc;SEE;GFc;YGE;GHc;cIE;GJc;UKE;GLI;cME;GNK;EDC"},"hasCjsExports":false},"type":"js/module"}]}