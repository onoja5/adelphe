{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":69,"index":103}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":104},"end":{"line":3,"column":34,"index":138}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[2], \"../services/api\");\n  var api = _interopDefault(_servicesApi);\n  const useAuthStore = (0, _zustand.create)((set, get) => ({\n    user: null,\n    token: null,\n    isLoading: false,\n    isInitialized: false,\n    initialize: async () => {\n      try {\n        const token = await AsyncStorage.default.getItem('auth_token');\n        if (token) {\n          api.default.defaults.headers.common['Authorization'] = `Bearer ${token}`;\n          const response = await api.default.get('/auth/me');\n          set({\n            user: response.data,\n            token,\n            isInitialized: true\n          });\n        } else {\n          set({\n            isInitialized: true\n          });\n        }\n      } catch (error) {\n        await AsyncStorage.default.removeItem('auth_token');\n        set({\n          user: null,\n          token: null,\n          isInitialized: true\n        });\n      }\n    },\n    login: async (email, password) => {\n      set({\n        isLoading: true\n      });\n      try {\n        const response = await api.default.post('/auth/login', {\n          email,\n          password\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n        set({\n          user,\n          token: access_token,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Login failed');\n      }\n    },\n    register: async (email, password, name, role = 'primary') => {\n      set({\n        isLoading: true\n      });\n      try {\n        const response = await api.default.post('/auth/register', {\n          email,\n          password,\n          name,\n          role\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n        set({\n          user,\n          token: access_token,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Registration failed');\n      }\n    },\n    googleAuth: async (idToken, role = 'primary') => {\n      set({\n        isLoading: true\n      });\n      try {\n        const response = await api.default.post('/auth/google', {\n          id_token: idToken,\n          role\n        });\n        const {\n          access_token,\n          user\n        } = response.data;\n        await AsyncStorage.default.setItem('auth_token', access_token);\n        api.default.defaults.headers.common['Authorization'] = `Bearer ${access_token}`;\n        set({\n          user,\n          token: access_token,\n          isLoading: false\n        });\n      } catch (error) {\n        set({\n          isLoading: false\n        });\n        throw new Error(error.response?.data?.detail || 'Google authentication failed');\n      }\n    },\n    logout: async () => {\n      await AsyncStorage.default.removeItem('auth_token');\n      delete api.default.defaults.headers.common['Authorization'];\n      set({\n        user: null,\n        token: null\n      });\n    },\n    updateUser: updates => {\n      const currentUser = get().user;\n      if (currentUser) {\n        set({\n          user: Object.assign({}, currentUser, updates)\n        });\n      }\n    }\n  }));\n});","lineCount":153,"map":[[12,2,27,0,"Object"],[12,8,27,0],[12,9,27,0,"defineProperty"],[12,23,27,0],[12,24,27,0,"exports"],[12,31,27,0],[13,4,27,0,"enumerable"],[13,14,27,0],[14,4,27,0,"get"],[14,7,27,0],[14,18,27,0,"get"],[14,19,27,0],[15,6,27,0],[15,13,27,0,"useAuthStore"],[15,25,27,0],[16,4,27,0],[17,2,27,0],[18,2,1,0],[18,6,1,0,"_zustand"],[18,14,1,0],[18,17,1,0,"require"],[18,24,1,0],[18,25,1,0,"_dependencyMap"],[18,39,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_servicesApi"],[21,18,3,0],[21,21,3,0,"require"],[21,28,3,0],[21,29,3,0,"_dependencyMap"],[21,43,3,0],[22,2,3,0],[22,6,3,0,"api"],[22,9,3,0],[22,12,3,0,"_interopDefault"],[22,27,3,0],[22,28,3,0,"_servicesApi"],[22,40,3,0],[23,2,27,7],[23,8,27,13,"useAuthStore"],[23,20,27,25],[23,23,27,28],[23,27,27,28,"create"],[23,35,27,34],[23,36,27,34,"create"],[23,42,27,34],[23,44,27,46],[23,45,27,47,"set"],[23,48,27,50],[23,50,27,52,"get"],[23,53,27,55],[23,59,27,61],[24,4,28,2,"user"],[24,8,28,6],[24,10,28,8],[24,14,28,12],[25,4,29,2,"token"],[25,9,29,7],[25,11,29,9],[25,15,29,13],[26,4,30,2,"isLoading"],[26,13,30,11],[26,15,30,13],[26,20,30,18],[27,4,31,2,"isInitialized"],[27,17,31,15],[27,19,31,17],[27,24,31,22],[28,4,33,2,"initialize"],[28,14,33,12],[28,16,33,14],[28,22,33,14,"initialize"],[28,23,33,14],[28,28,33,26],[29,6,34,4],[29,10,34,8],[30,8,35,6],[30,14,35,12,"token"],[30,19,35,17],[30,22,35,20],[30,28,35,26,"AsyncStorage"],[30,40,35,38],[30,41,35,38,"default"],[30,48,35,38],[30,49,35,39,"getItem"],[30,56,35,46],[30,57,35,47],[30,69,35,59],[30,70,35,60],[31,8,36,6],[31,12,36,10,"token"],[31,17,36,15],[31,19,36,17],[32,10,37,8,"api"],[32,13,37,11],[32,14,37,11,"default"],[32,21,37,11],[32,22,37,12,"defaults"],[32,30,37,20],[32,31,37,21,"headers"],[32,38,37,28],[32,39,37,29,"common"],[32,45,37,35],[32,46,37,36],[32,61,37,51],[32,62,37,52],[32,65,37,55],[32,75,37,65,"token"],[32,80,37,70],[32,82,37,72],[33,10,38,8],[33,16,38,14,"response"],[33,24,38,22],[33,27,38,25],[33,33,38,31,"api"],[33,36,38,34],[33,37,38,34,"default"],[33,44,38,34],[33,45,38,35,"get"],[33,48,38,38],[33,49,38,39],[33,59,38,49],[33,60,38,50],[34,10,39,8,"set"],[34,13,39,11],[34,14,39,12],[35,12,39,14,"user"],[35,16,39,18],[35,18,39,20,"response"],[35,26,39,28],[35,27,39,29,"data"],[35,31,39,33],[36,12,39,35,"token"],[36,17,39,40],[37,12,39,42,"isInitialized"],[37,25,39,55],[37,27,39,57],[38,10,39,62],[38,11,39,63],[38,12,39,64],[39,8,40,6],[39,9,40,7],[39,15,40,13],[40,10,41,8,"set"],[40,13,41,11],[40,14,41,12],[41,12,41,14,"isInitialized"],[41,25,41,27],[41,27,41,29],[42,10,41,34],[42,11,41,35],[42,12,41,36],[43,8,42,6],[44,6,43,4],[44,7,43,5],[44,8,43,6],[44,15,43,13,"error"],[44,20,43,18],[44,22,43,20],[45,8,44,6],[45,14,44,12,"AsyncStorage"],[45,26,44,24],[45,27,44,24,"default"],[45,34,44,24],[45,35,44,25,"removeItem"],[45,45,44,35],[45,46,44,36],[45,58,44,48],[45,59,44,49],[46,8,45,6,"set"],[46,11,45,9],[46,12,45,10],[47,10,45,12,"user"],[47,14,45,16],[47,16,45,18],[47,20,45,22],[48,10,45,24,"token"],[48,15,45,29],[48,17,45,31],[48,21,45,35],[49,10,45,37,"isInitialized"],[49,23,45,50],[49,25,45,52],[50,8,45,57],[50,9,45,58],[50,10,45,59],[51,6,46,4],[52,4,47,2],[52,5,47,3],[53,4,49,2,"login"],[53,9,49,7],[53,11,49,9],[53,17,49,9,"login"],[53,18,49,16,"email"],[53,23,49,29],[53,25,49,31,"password"],[53,33,49,47],[53,38,49,52],[54,6,50,4,"set"],[54,9,50,7],[54,10,50,8],[55,8,50,10,"isLoading"],[55,17,50,19],[55,19,50,21],[56,6,50,26],[56,7,50,27],[56,8,50,28],[57,6,51,4],[57,10,51,8],[58,8,52,6],[58,14,52,12,"response"],[58,22,52,20],[58,25,52,23],[58,31,52,29,"api"],[58,34,52,32],[58,35,52,32,"default"],[58,42,52,32],[58,43,52,33,"post"],[58,47,52,37],[58,48,52,38],[58,61,52,51],[58,63,52,53],[59,10,52,55,"email"],[59,15,52,60],[60,10,52,62,"password"],[61,8,52,71],[61,9,52,72],[61,10,52,73],[62,8,53,6],[62,14,53,12],[63,10,53,14,"access_token"],[63,22,53,26],[64,10,53,28,"user"],[65,8,53,33],[65,9,53,34],[65,12,53,37,"response"],[65,20,53,45],[65,21,53,46,"data"],[65,25,53,50],[66,8,55,6],[66,14,55,12,"AsyncStorage"],[66,26,55,24],[66,27,55,24,"default"],[66,34,55,24],[66,35,55,25,"setItem"],[66,42,55,32],[66,43,55,33],[66,55,55,45],[66,57,55,47,"access_token"],[66,69,55,59],[66,70,55,60],[67,8,56,6,"api"],[67,11,56,9],[67,12,56,9,"default"],[67,19,56,9],[67,20,56,10,"defaults"],[67,28,56,18],[67,29,56,19,"headers"],[67,36,56,26],[67,37,56,27,"common"],[67,43,56,33],[67,44,56,34],[67,59,56,49],[67,60,56,50],[67,63,56,53],[67,73,56,63,"access_token"],[67,85,56,75],[67,87,56,77],[68,8,58,6,"set"],[68,11,58,9],[68,12,58,10],[69,10,58,12,"user"],[69,14,58,16],[70,10,58,18,"token"],[70,15,58,23],[70,17,58,25,"access_token"],[70,29,58,37],[71,10,58,39,"isLoading"],[71,19,58,48],[71,21,58,50],[72,8,58,56],[72,9,58,57],[72,10,58,58],[73,6,59,4],[73,7,59,5],[73,8,59,6],[73,15,59,13,"error"],[73,20,59,23],[73,22,59,25],[74,8,60,6,"set"],[74,11,60,9],[74,12,60,10],[75,10,60,12,"isLoading"],[75,19,60,21],[75,21,60,23],[76,8,60,29],[76,9,60,30],[76,10,60,31],[77,8,61,6],[77,14,61,12],[77,18,61,16,"Error"],[77,23,61,21],[77,24,61,22,"error"],[77,29,61,27],[77,30,61,28,"response"],[77,38,61,36],[77,40,61,38,"data"],[77,44,61,42],[77,46,61,44,"detail"],[77,52,61,50],[77,56,61,54],[77,70,61,68],[77,71,61,69],[78,6,62,4],[79,4,63,2],[79,5,63,3],[80,4,65,2,"register"],[80,12,65,10],[80,14,65,12],[80,20,65,12,"register"],[80,21,65,19,"email"],[80,26,65,32],[80,28,65,34,"password"],[80,36,65,50],[80,38,65,52,"name"],[80,42,65,64],[80,44,65,66,"role"],[80,48,65,78],[80,51,65,81],[80,60,65,90],[80,65,65,95],[81,6,66,4,"set"],[81,9,66,7],[81,10,66,8],[82,8,66,10,"isLoading"],[82,17,66,19],[82,19,66,21],[83,6,66,26],[83,7,66,27],[83,8,66,28],[84,6,67,4],[84,10,67,8],[85,8,68,6],[85,14,68,12,"response"],[85,22,68,20],[85,25,68,23],[85,31,68,29,"api"],[85,34,68,32],[85,35,68,32,"default"],[85,42,68,32],[85,43,68,33,"post"],[85,47,68,37],[85,48,68,38],[85,64,68,54],[85,66,68,56],[86,10,68,58,"email"],[86,15,68,63],[87,10,68,65,"password"],[87,18,68,73],[88,10,68,75,"name"],[88,14,68,79],[89,10,68,81,"role"],[90,8,68,86],[90,9,68,87],[90,10,68,88],[91,8,69,6],[91,14,69,12],[92,10,69,14,"access_token"],[92,22,69,26],[93,10,69,28,"user"],[94,8,69,33],[94,9,69,34],[94,12,69,37,"response"],[94,20,69,45],[94,21,69,46,"data"],[94,25,69,50],[95,8,71,6],[95,14,71,12,"AsyncStorage"],[95,26,71,24],[95,27,71,24,"default"],[95,34,71,24],[95,35,71,25,"setItem"],[95,42,71,32],[95,43,71,33],[95,55,71,45],[95,57,71,47,"access_token"],[95,69,71,59],[95,70,71,60],[96,8,72,6,"api"],[96,11,72,9],[96,12,72,9,"default"],[96,19,72,9],[96,20,72,10,"defaults"],[96,28,72,18],[96,29,72,19,"headers"],[96,36,72,26],[96,37,72,27,"common"],[96,43,72,33],[96,44,72,34],[96,59,72,49],[96,60,72,50],[96,63,72,53],[96,73,72,63,"access_token"],[96,85,72,75],[96,87,72,77],[97,8,74,6,"set"],[97,11,74,9],[97,12,74,10],[98,10,74,12,"user"],[98,14,74,16],[99,10,74,18,"token"],[99,15,74,23],[99,17,74,25,"access_token"],[99,29,74,37],[100,10,74,39,"isLoading"],[100,19,74,48],[100,21,74,50],[101,8,74,56],[101,9,74,57],[101,10,74,58],[102,6,75,4],[102,7,75,5],[102,8,75,6],[102,15,75,13,"error"],[102,20,75,23],[102,22,75,25],[103,8,76,6,"set"],[103,11,76,9],[103,12,76,10],[104,10,76,12,"isLoading"],[104,19,76,21],[104,21,76,23],[105,8,76,29],[105,9,76,30],[105,10,76,31],[106,8,77,6],[106,14,77,12],[106,18,77,16,"Error"],[106,23,77,21],[106,24,77,22,"error"],[106,29,77,27],[106,30,77,28,"response"],[106,38,77,36],[106,40,77,38,"data"],[106,44,77,42],[106,46,77,44,"detail"],[106,52,77,50],[106,56,77,54],[106,77,77,75],[106,78,77,76],[107,6,78,4],[108,4,79,2],[108,5,79,3],[109,4,81,2,"googleAuth"],[109,14,81,12],[109,16,81,14],[109,22,81,14,"googleAuth"],[109,23,81,21,"idToken"],[109,30,81,36],[109,32,81,38,"role"],[109,36,81,50],[109,39,81,53],[109,48,81,62],[109,53,81,67],[110,6,82,4,"set"],[110,9,82,7],[110,10,82,8],[111,8,82,10,"isLoading"],[111,17,82,19],[111,19,82,21],[112,6,82,26],[112,7,82,27],[112,8,82,28],[113,6,83,4],[113,10,83,8],[114,8,84,6],[114,14,84,12,"response"],[114,22,84,20],[114,25,84,23],[114,31,84,29,"api"],[114,34,84,32],[114,35,84,32,"default"],[114,42,84,32],[114,43,84,33,"post"],[114,47,84,37],[114,48,84,38],[114,62,84,52],[114,64,84,54],[115,10,84,56,"id_token"],[115,18,84,64],[115,20,84,66,"idToken"],[115,27,84,73],[116,10,84,75,"role"],[117,8,84,80],[117,9,84,81],[117,10,84,82],[118,8,85,6],[118,14,85,12],[119,10,85,14,"access_token"],[119,22,85,26],[120,10,85,28,"user"],[121,8,85,33],[121,9,85,34],[121,12,85,37,"response"],[121,20,85,45],[121,21,85,46,"data"],[121,25,85,50],[122,8,87,6],[122,14,87,12,"AsyncStorage"],[122,26,87,24],[122,27,87,24,"default"],[122,34,87,24],[122,35,87,25,"setItem"],[122,42,87,32],[122,43,87,33],[122,55,87,45],[122,57,87,47,"access_token"],[122,69,87,59],[122,70,87,60],[123,8,88,6,"api"],[123,11,88,9],[123,12,88,9,"default"],[123,19,88,9],[123,20,88,10,"defaults"],[123,28,88,18],[123,29,88,19,"headers"],[123,36,88,26],[123,37,88,27,"common"],[123,43,88,33],[123,44,88,34],[123,59,88,49],[123,60,88,50],[123,63,88,53],[123,73,88,63,"access_token"],[123,85,88,75],[123,87,88,77],[124,8,90,6,"set"],[124,11,90,9],[124,12,90,10],[125,10,90,12,"user"],[125,14,90,16],[126,10,90,18,"token"],[126,15,90,23],[126,17,90,25,"access_token"],[126,29,90,37],[127,10,90,39,"isLoading"],[127,19,90,48],[127,21,90,50],[128,8,90,56],[128,9,90,57],[128,10,90,58],[129,6,91,4],[129,7,91,5],[129,8,91,6],[129,15,91,13,"error"],[129,20,91,23],[129,22,91,25],[130,8,92,6,"set"],[130,11,92,9],[130,12,92,10],[131,10,92,12,"isLoading"],[131,19,92,21],[131,21,92,23],[132,8,92,29],[132,9,92,30],[132,10,92,31],[133,8,93,6],[133,14,93,12],[133,18,93,16,"Error"],[133,23,93,21],[133,24,93,22,"error"],[133,29,93,27],[133,30,93,28,"response"],[133,38,93,36],[133,40,93,38,"data"],[133,44,93,42],[133,46,93,44,"detail"],[133,52,93,50],[133,56,93,54],[133,86,93,84],[133,87,93,85],[134,6,94,4],[135,4,95,2],[135,5,95,3],[136,4,97,2,"logout"],[136,10,97,8],[136,12,97,10],[136,18,97,10,"logout"],[136,19,97,10],[136,24,97,22],[137,6,98,4],[137,12,98,10,"AsyncStorage"],[137,24,98,22],[137,25,98,22,"default"],[137,32,98,22],[137,33,98,23,"removeItem"],[137,43,98,33],[137,44,98,34],[137,56,98,46],[137,57,98,47],[138,6,99,4],[138,13,99,11,"api"],[138,16,99,14],[138,17,99,14,"default"],[138,24,99,14],[138,25,99,15,"defaults"],[138,33,99,23],[138,34,99,24,"headers"],[138,41,99,31],[138,42,99,32,"common"],[138,48,99,38],[138,49,99,39],[138,64,99,54],[138,65,99,55],[139,6,100,4,"set"],[139,9,100,7],[139,10,100,8],[140,8,100,10,"user"],[140,12,100,14],[140,14,100,16],[140,18,100,20],[141,8,100,22,"token"],[141,13,100,27],[141,15,100,29],[142,6,100,34],[142,7,100,35],[142,8,100,36],[143,4,101,2],[143,5,101,3],[144,4,103,2,"updateUser"],[144,14,103,12],[144,16,103,15,"updates"],[144,23,103,37],[144,27,103,42],[145,6,104,4],[145,12,104,10,"currentUser"],[145,23,104,21],[145,26,104,24,"get"],[145,29,104,27],[145,30,104,28],[145,31,104,29],[145,32,104,30,"user"],[145,36,104,34],[146,6,105,4],[146,10,105,8,"currentUser"],[146,21,105,19],[146,23,105,21],[147,8,106,6,"set"],[147,11,106,9],[147,12,106,10],[148,10,106,12,"user"],[148,14,106,16],[148,16,106,16,"Object"],[148,22,106,16],[148,23,106,16,"assign"],[148,29,106,16],[148,34,106,23,"currentUser"],[148,45,106,34],[148,47,106,39,"updates"],[148,54,106,46],[149,8,106,49],[149,9,106,50],[149,10,106,51],[150,6,107,4],[151,4,108,2],[152,2,109,0],[152,3,109,1],[152,4,109,2],[152,5,109,3],[153,0,109,4],[153,3]],"functionMap":{"names":["<global>","create$argument_0","initialize","login","register","googleAuth","logout","updateUser"],"mappings":"AAA;8CC0B;cCM;GDc;SEE;GFc;YGE;GHc;cIE;GJc;UKE;GLI;cME;GNK;EDC"},"hasCjsExports":false},"type":"js/module"}]}